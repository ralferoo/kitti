<!DOCTYPE html>
<html>
<head>
<script>
window.onload = function()
{
  var xmlhttp;
  if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
    xmlhttp = new XMLHttpRequest();
  }
  else
  {// code for IE6, IE5
    xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
  }
  xmlhttp.onreadystatechange = function()
  {
    if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      log = xmlhttp.responseText;
      lines = log.split("\n");
      var log_html = "<h3>Parsed transactions:</h3><p>";
      for( var i = 0; i < lines.length; ++i )
      {
        entries = lines[i].split("\t");
        var unparsed_lines = array();
        if( entries.length >= 3 )
        {
          timestamp = Date.parse(entries[0]);
          transaction = entries[1];
          description = entries[2];
          log_html += transaction + " (" + description + ")<br>";
        }
        else {
          unparsed_lines += lines[i];
        }
      }
      log_html += "</p><h4>Unparsed lines:</h4><p>"+unparsed_lines.join("<br>")+"</p>";
      document.getElementById("myDiv").innerHTML = log_html;
    }
  }
  url = "http://rawles.github.io/kitti/kittilog.txt";
  // trick to avoid getting a cached version of the data: append nonsense to the URL
  xmlhttp.open("GET", url + ((/\?/).test(url) ? "&" : "?") + (new Date()).getTime(), true);
  xmlhttp.send();
}
</script>

<noscript>
 For full functionality of this site it is necessary to enable JavaScript.
 Here are the <a href="http://www.enable-javascript.com/" target="_blank">
 instructions how to enable JavaScript in your web browser</a>.
</noscript>

</head>
<body>

<div id="myDiv">Loading... (do you have javascript enabled?)</div>

</body>
</html>
